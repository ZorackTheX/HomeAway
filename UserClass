package homeAway;

import dataStructures.*;

public class UserClass implements User{
	
	private List<Home> homesUser;
	private List<Travels> travels;
	
		
	private String idUser;
	private String email;
	private String phone;
	private String name;
	private String nacionalidade;
	private String morada;

	public UserClass(String idUser, String email, String phone, String name, String nacionalidade, String morada) {
		this.idUser = idUser;
		this.email = email;
		this.phone = phone;
		this.name = name;
		this.nacionalidade = nacionalidade;
		this.morada = morada;
		
		homesUser = new DoublyLinkedList<Home>();
		travels = new DoublyLinkedList<Travels>();
	}
	
	public String getIdUser() {
		return idUser;
	}


	public String getEmail() {
		return email;
	}

	
	public String getPhone() {
		return phone;
	}

	
	public String getName() {
		return name;
	}

	
	public String getNacionalidade() {
		return nacionalidade;
	}

	
	public String getMorada() {
		return morada;
	}

	
	public void changeInfo(String email, String phone, String morada) {
		this.email = email;
		this.phone = phone;
		this.morada = morada;
		
	}
	
	public void addHome(Home home) {
		if(homesUser.isEmpty()) {
			homesUser.addFirst(home);
		}
		else homesUser.addLast(home);
	}
	
	public void removeHome(String idHome) {
		homesUser.remove(getHome(idHome));
	}
	
	public Home getHome(String idHome) {
		Home home = null;
		
		for(int i= 0 ; i<homesUser.size(); i++) {
			if(homesUser.get(i).getIdHome().equals(idHome)) {
				home = homesUser.get(i);
			}
		}
		return home;
	}
	
	public boolean hasHome() {
		if(!homesUser.isEmpty()) {
			return true;
		}
		return false;
	}
	
	public Iterator<Home> homeIterator(){
		return homesUser.iterator();
	}
	
	public Iterator<Travels> travelsIterator(){
		return travels.iterator();
	}
	
	public String getAllInfo() {
		return name + ": " + morada + ", " + nacionalidade + ", " + email + ", " + phone;
	}
	
	public void addTravel(Home home, int points) {
		Travels travel = new TravelsClass(home, points);
		travels.addLast(travel);
	}
	
	public Home getHomeTravels() {
		Home home = null;
		
		for(int i= 0 ; i<travels.size(); i++) {
			home = travels.get(i).getHome();
		}
		return home;
	}
	
	public boolean hasTravels() {
		if(!travels.isEmpty()) {
			return true;
		}
		return false;
	}
}
